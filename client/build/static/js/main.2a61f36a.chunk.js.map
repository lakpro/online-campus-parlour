{"version":3,"sources":["components/headers/icon/menu.svg","components/headers/icon/close.svg","components/headers/icon/cart.svg","components/mainpages/history/check.svg","api/ProductsAPI.js","api/UserAPI.js","api/CategoriesAPI.js","GlobalState.js","components/headers/Header.js","components/mainpages/utils/productItem/BtnRender.js","components/mainpages/utils/productItem/ProductItem.js","components/mainpages/utils/loading/Loading.js","components/mainpages/products/Filters.js","components/mainpages/products/LoadMore.js","components/mainpages/products/Products.js","components/mainpages/detailProduct/DetailProduct.js","components/mainpages/auth/Login.js","components/mainpages/auth/Register.js","components/mainpages/history/OrderHistory.js","components/mainpages/history/OrderDetails.js","components/mainpages/history/curOrders.js","components/mainpages/cart/Cart.js","components/mainpages/utils/not_found/NotFound.js","components/mainpages/categories/Categories.js","components/mainpages/createProduct/CreateProduct.js","components/mainpages/Pages.js","App.js","index.js"],"names":["module","exports","ProductsAPI","useState","products","setProducts","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","useEffect","a","axios","get","res","data","getProducts","UserAPI","token","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","setCart","history","setHistory","headers","Authorization","role","alert","response","msg","getUser","addCart","product","every","item","_id","quantity","patch","CategoriesAPI","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","localStorage","getItem","refreshToken","accesstoken","setTimeout","state","productsAPI","userAPI","categoriesAPI","Provider","value","Header","useContext","menu","setMenu","logoutUser","removeItem","window","location","href","styleMenu","left","className","onClick","src","Menu","alt","width","to","style","Close","length","Cart","BtnRender","deleteProduct","id","images","public_id","ProductItem","handleCheck","type","checked","onChange","url","title","price","description","Loading","Filters","name","e","target","map","key","LoadMore","Products","loading","setLoading","isCheck","setIsCheck","forEach","destroyImg","post","delete","DetailProduct","params","useParams","detailProduct","setDetailProduct","product_id","content","sold","Login","email","password","user","setUser","onChangeInput","loginSubmit","preventDefault","setItem","onSubmit","required","placeholder","autoComplete","Register","registerSubmit","OrderHistory","getHistory","items","paymentID","Date","createdAt","toLocaleDateString","OrderDetails","orderDetails","setOrderDetails","user_id","address","margin","updateStatus","element","put","err","console","log","status","check","Razorpay","useRazorpay","total","setTotal","reduce","prev","getTotal","addToCart","initPayment","options","key_id","amount","currency","order_id","handler","razorpay_payment_id","theme","color","rzp1","open","handlePayment","textAlign","fontSize","confirm","index","splice","NotFound","Categories","onEdit","setOnEdit","setID","createCategory","editCategory","deleteCategory","htmlFor","initialState","CreateProduct","setProduct","setImages","useHistory","param","handleUpload","file","files","size","formData","FormData","append","handleDestroy","handleChangeInput","handleSubmit","push","styleUpload","display","disabled","rows","Pages","path","exact","component","CurrentOrders","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2a61f36a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/menu.b3f49afd.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.2c5552a1.svg\";","module.exports = __webpack_public_path__ + \"static/media/cart.8bf1af37.svg\";","module.exports = __webpack_public_path__ + \"static/media/check.e54e6aaf.svg\";","import {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\n\r\nfunction ProductsAPI() {\r\n    const [products, setProducts] = useState([])\r\n    const [callback, setCallback] = useState(false)\r\n    const [category, setCategory] = useState('')\r\n    const [sort, setSort] = useState('')\r\n    const [search, setSearch] = useState('')\r\n    const [page, setPage] = useState(1)\r\n    const [result, setResult] = useState(0)\r\n\r\n    useEffect(() =>{\r\n        const getProducts = async () => {\r\n            const res = await axios.get(`/api/products?limit=${page*9}&${category}&${sort}&title[regex]=${search}`)\r\n            setProducts(res.data.products)\r\n            setResult(res.data.result)\r\n        }\r\n        getProducts()\r\n    },[callback, category, sort, search, page])\r\n    \r\n    return {\r\n        products: [products, setProducts],\r\n        callback: [callback, setCallback],\r\n        category: [category, setCategory],\r\n        sort: [sort, setSort],\r\n        search: [search, setSearch],\r\n        page: [page, setPage],\r\n        result: [result, setResult]\r\n    }\r\n}\r\n\r\nexport default ProductsAPI\r\n","import {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nfunction UserAPI(token) {\r\n    const [isLogged, setIsLogged] = useState(false)\r\n    const [isAdmin, setIsAdmin] = useState(false)\r\n    const [cart, setCart] = useState([])\r\n    const [history, setHistory] = useState([])\r\n\r\n    useEffect(() =>{\r\n        if(token){\r\n            const getUser = async () =>{\r\n                try {\r\n                    const res = await axios.get('/user/infor', {\r\n                        headers: {Authorization: token}\r\n                    })\r\n\r\n                    setIsLogged(true)\r\n                    res.data.role === 1 ? setIsAdmin(true) : setIsAdmin(false)\r\n\r\n                    setCart(res.data.cart)\r\n\r\n                } catch (err) {\r\n                    alert(err.response.data.msg)\r\n                }\r\n            }\r\n\r\n            getUser()\r\n            \r\n        }\r\n    },[token])\r\n\r\n    \r\n\r\n    const addCart = async (product) => {\r\n        if(!isLogged) return alert(\"Please login to continue buying\")\r\n\r\n        const check = cart.every(item =>{\r\n            return item._id !== product._id\r\n        })\r\n\r\n        if(check){\r\n            setCart([...cart, {...product, quantity: 1}])\r\n\r\n            await axios.patch('/user/addcart', {cart: [...cart, {...product, quantity: 1}]}, {\r\n                headers: {Authorization: token}\r\n            })\r\n\r\n        }else{\r\n            alert(\"This product has been added to cart.\")\r\n        }\r\n    }\r\n\r\n    return {\r\n        isLogged: [isLogged, setIsLogged],\r\n        isAdmin: [isAdmin, setIsAdmin],\r\n        cart: [cart, setCart],\r\n        addCart: addCart,\r\n        history: [history, setHistory]\r\n    }\r\n}\r\n\r\nexport default UserAPI\r\n ","import {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nfunction CategoriesAPI() {\r\n    const [categories, setCategories] = useState([])\r\n    const [callback, setCallback] = useState(false)\r\n\r\n    useEffect(() =>{\r\n        const getCategories = async () =>{\r\n            const res = await axios.get('/api/category')\r\n            setCategories(res.data)\r\n        }\r\n\r\n        getCategories()\r\n    },[callback])\r\n    return {\r\n        categories: [categories, setCategories],\r\n        callback: [callback, setCallback]\r\n    }\r\n}\r\n\r\nexport default CategoriesAPI\r\n","import React, {createContext, useState, useEffect} from 'react'\r\nimport ProductsAPI from './api/ProductsAPI'\r\nimport UserAPI from './api/UserAPI'\r\nimport CategoriesAPI from './api/CategoriesAPI'\r\n\r\nimport axios from 'axios'\r\n\r\nexport const GlobalState = createContext()\r\n\r\n\r\nexport const DataProvider = ({children}) =>{\r\n    const [token, setToken] = useState(false)\r\n\r\n\r\n    useEffect(() =>{\r\n        const firstLogin = localStorage.getItem('firstLogin')\r\n        if(firstLogin){\r\n            const refreshToken = async () =>{\r\n                const res = await axios.get('/user/refresh_token')\r\n        \r\n                setToken(res.data.accesstoken)\r\n    \r\n                setTimeout(() => {\r\n                    refreshToken()\r\n                }, 10 * 60 * 1000)\r\n            }\r\n            refreshToken()\r\n        }\r\n    },[])\r\n\r\n\r\n    \r\n    const state = {\r\n        token: [token, setToken],\r\n        productsAPI: ProductsAPI(),\r\n        userAPI: UserAPI(token),\r\n        categoriesAPI: CategoriesAPI()\r\n    }\r\n\r\n    return (\r\n        <GlobalState.Provider value={state}>\r\n            {children}\r\n        </GlobalState.Provider>\r\n    )\r\n}","import React, {useContext, useState} from 'react'\r\nimport {GlobalState} from '../../GlobalState'\r\nimport Menu from './icon/menu.svg'\r\nimport Close from './icon/close.svg'\r\nimport Cart from './icon/cart.svg'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction Header() {\r\n    const state = useContext(GlobalState)\r\n    const [isLogged] = state.userAPI.isLogged\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [cart] = state.userAPI.cart\r\n    const [menu, setMenu] = useState(false)\r\n\r\n    const logoutUser = async () =>{\r\n        await axios.get('/user/logout')\r\n        \r\n        localStorage.removeItem('firstLogin')\r\n        \r\n        window.location.href = \"/\";\r\n    }\r\n\r\n    const adminRouter = () =>{\r\n        return(\r\n            <>\r\n                <li><Link to=\"/create_product\">Create Product</Link></li>\r\n                <li><Link to=\"/category\">Categories</Link></li>\r\n                <li><Link to=\"/curOrders\">Current Orders</Link></li>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const loggedRouter = () =>{\r\n        return(\r\n            <>\r\n                <li><Link to=\"/history\">History</Link></li>\r\n                <li><Link to=\"/\" onClick={logoutUser}>Logout</Link></li>\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n    const styleMenu = {\r\n        left: menu ? 0 : \"-100%\"\r\n    }\r\n\r\n    return (\r\n        <header>\r\n            <div className=\"menu\" onClick={() => setMenu(!menu)}>\r\n                <img src={Menu} alt=\"\" width=\"30\" />\r\n            </div>\r\n\r\n            <div className=\"logo\">\r\n                <h1>\r\n                    <Link to=\"/\">{isAdmin ? 'Admin' : 'Online Campus Parlour'}</Link>\r\n                </h1>\r\n            </div>\r\n\r\n            <ul style={styleMenu}>\r\n                <li><Link to=\"/\">{isAdmin ? 'Products' : 'Shop'}</Link></li>\r\n\r\n                {isAdmin && adminRouter()}\r\n\r\n                {\r\n                    isLogged ? loggedRouter() : <li><Link to=\"/login\">Login ✥ Register</Link></li>\r\n                }\r\n\r\n                <li onClick={() => setMenu(!menu)}>\r\n                    <img src={Close} alt=\"\" width=\"30\" className=\"menu\" />\r\n                </li>\r\n\r\n            </ul>\r\n\r\n            {\r\n                isAdmin ? '' \r\n                :<div className=\"cart-icon\">\r\n                    <span>{cart.length}</span>\r\n                    <Link to=\"/cart\">\r\n                        <img src={Cart} alt=\"\" width=\"30\" />\r\n                    </Link>\r\n                </div>\r\n            }\r\n            \r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React, {useContext} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {GlobalState} from '../../../../GlobalState'\r\n\r\nfunction BtnRender({product, deleteProduct}) {\r\n    const state = useContext(GlobalState)\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const addCart = state.userAPI.addCart\r\n\r\n    \r\n    return (\r\n        <div className=\"row_btn\">\r\n            {\r\n                isAdmin ? \r\n                <>\r\n                    <Link id=\"btn_buy\" to=\"#!\" \r\n                    onClick={() =>deleteProduct(product._id, product.images.public_id)}>\r\n                        Delete\r\n                    </Link>\r\n                    <Link id=\"btn_view\" to={`/edit_product/${product._id}`}>\r\n                        Edit\r\n                    </Link>\r\n                </>\r\n                : <>\r\n                    <Link id=\"btn_buy\" to=\"#!\" onClick={() => addCart(product)}>\r\n                        Buy\r\n                    </Link>\r\n                    <Link id=\"btn_view\" to={`/detail/${product._id}`}>\r\n                        View\r\n                    </Link>\r\n                </>\r\n            }\r\n                \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BtnRender\r\n","import React from 'react'\r\nimport BtnRender from './BtnRender'\r\n\r\nfunction ProductItem({product, isAdmin, deleteProduct, handleCheck}) {\r\n\r\n    return (\r\n        <div className=\"product_card\">\r\n            {\r\n                isAdmin && <input type=\"checkbox\" checked={product.checked}\r\n                onChange={() => handleCheck(product._id)} />\r\n            }\r\n            <img src={product.images.url} alt=\"\" />\r\n\r\n            <div className=\"product_box\">\r\n                <h2 title={product.title}>{product.title}</h2>\r\n                <span>₹{product.price}</span>\r\n                <p>{product.description}</p>\r\n            </div>\r\n\r\n            \r\n            <BtnRender product={product} deleteProduct={deleteProduct} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductItem\r\n","import React from 'react'\r\nimport './loading.css'\r\n\r\nfunction Loading() {\r\n    return (\r\n        <div className=\"load-page\">\r\n            <div className=\"loader\">\r\n                <div>\r\n                    <div>\r\n                        <div>\r\n                            <div>\r\n                                <div>\r\n                                    <div>\r\n                                        <div>\r\n                                            <div></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React, {useContext} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\n\r\nfunction Filters() {\r\n    const state = useContext(GlobalState)\r\n    const [categories] = state.categoriesAPI.categories\r\n\r\n    const [category, setCategory] = state.productsAPI.category\r\n    const [sort, setSort] = state.productsAPI.sort\r\n    const [search, setSearch] = state.productsAPI.search\r\n\r\n\r\n    const handleCategory = e => {\r\n        setCategory(e.target.value)\r\n        setSearch('')\r\n    }\r\n\r\n    return (\r\n        <div className=\"filter_menu\">\r\n            <div className=\"row\">\r\n                <span>Filters: </span>\r\n                <select name=\"category\" value={category} onChange={handleCategory} >\r\n                    <option value=''>All Products</option>\r\n                    {\r\n                        categories.map(category => (\r\n                            <option value={\"category=\" + category._id} key={category._id}>\r\n                                {category.name}\r\n                            </option>\r\n                        ))\r\n                    }\r\n                </select>\r\n            </div>\r\n\r\n            {/* <input type=\"text\" value={search} placeholder=\"Enter your search!\"\r\n            onChange={e => setSearch(e.target.value.toLowerCase())} />\r\n\r\n            <div className=\"row sort\">\r\n                <span>Sort By: </span>\r\n                <select value={sort} onChange={e => setSort(e.target.value)} >\r\n                    <option value=''>Newest</option>\r\n                    <option value='sort=oldest'>Oldest</option>\r\n                    <option value='sort=-sold'>Best sales</option>\r\n                    <option value='sort=-price'>Price: Hight-Low</option>\r\n                    <option value='sort=price'>Price: Low-Hight</option>\r\n                </select>\r\n            </div> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filters\r\n","import React, {useContext} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\n\r\nfunction LoadMore() {\r\n    const state = useContext(GlobalState)\r\n    const [page, setPage] = state.productsAPI.page\r\n    const [result] = state.productsAPI.result\r\n\r\n    return (\r\n        <div className=\"load_more\">\r\n            {\r\n                result < page * 9 ? \"\"\r\n                : <button onClick={() => setPage(page+1)}>Load more</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadMore\r\n","import React, {useContext, useState} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport ProductItem from '../utils/productItem/ProductItem'\r\nimport Loading from '../utils/loading/Loading'\r\nimport axios from 'axios'\r\nimport Filters from './Filters'\r\nimport LoadMore from './LoadMore'\r\n\r\n\r\nfunction Products() {\r\n    const state = useContext(GlobalState)\r\n    const [products, setProducts] = state.productsAPI.products\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n    const [callback, setCallback] = state.productsAPI.callback\r\n    const [loading, setLoading] = useState(false)\r\n    const [isCheck, setIsCheck] = useState(false)\r\n\r\n    const handleCheck = (id) =>{\r\n        products.forEach(product => {\r\n            if(product._id === id) product.checked = !product.checked\r\n        })\r\n        setProducts([...products])\r\n    }\r\n\r\n    const deleteProduct = async(id, public_id) => {\r\n        try {\r\n            setLoading(true)\r\n            const destroyImg = axios.post('/api/destroy', {public_id},{\r\n                headers: {Authorization: token}\r\n            })\r\n            const deleteProduct = axios.delete(`/api/products/${id}`, {\r\n                headers: {Authorization: token}\r\n            })\r\n\r\n            await destroyImg\r\n            await deleteProduct\r\n            setCallback(!callback)\r\n            setLoading(false)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const checkAll = () =>{\r\n        products.forEach(product => {\r\n            product.checked = !isCheck\r\n        })\r\n        setProducts([...products])\r\n        setIsCheck(!isCheck)\r\n    }\r\n\r\n    const deleteAll = () =>{\r\n        products.forEach(product => {\r\n            if(product.checked) deleteProduct(product._id, product.images.public_id)\r\n        })\r\n    }\r\n\r\n    if(loading) return <div><Loading /></div>\r\n    return (\r\n        <>\r\n        <Filters />\r\n        \r\n        {\r\n            isAdmin && \r\n            <div className=\"delete-all\">\r\n                <span>Select all</span>\r\n                <input type=\"checkbox\" checked={isCheck} onChange={checkAll} />\r\n                <button onClick={deleteAll}>Delete ALL</button>\r\n            </div>\r\n        }\r\n\r\n        <div className=\"products\">\r\n            {\r\n                products.map(product => {\r\n                    return <ProductItem key={product._id} product={product}\r\n                    isAdmin={isAdmin} deleteProduct={deleteProduct} handleCheck={handleCheck} />\r\n                })\r\n            } \r\n        </div>\r\n\r\n        <LoadMore />\r\n        {products.length === 0 && <Loading />}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Products\r\n","import React, {useContext, useState, useEffect} from 'react'\r\nimport {useParams, Link} from 'react-router-dom'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport ProductItem from '../utils/productItem/ProductItem'\r\n\r\n\r\nfunction DetailProduct() {\r\n    const params = useParams()\r\n    const state = useContext(GlobalState)\r\n    const [products] = state.productsAPI.products\r\n    const addCart = state.userAPI.addCart\r\n    const [detailProduct, setDetailProduct] = useState([])\r\n\r\n    useEffect(() =>{\r\n        if(params.id){\r\n\r\n            products.forEach(product => {\r\n                if(product._id === params.id) setDetailProduct(product)\r\n            })\r\n        }\r\n    },[params.id, products])\r\n\r\n    if(detailProduct.length === 0) return null;\r\n\r\n    return (\r\n        <>\r\n            <div className=\"detail\">\r\n                <img src={detailProduct.images.url} alt=\"\" />\r\n                <div className=\"box-detail\">\r\n                    <div className=\"row\">\r\n                        <h2>{detailProduct.title}</h2>\r\n                        <h6>#id: {detailProduct.product_id}</h6>\r\n                    </div>\r\n                    <span>$ {detailProduct.price}</span>\r\n                    <p>{detailProduct.description}</p>\r\n                    <p>{detailProduct.content}</p>\r\n                    <p>Sold: {detailProduct.sold}</p>\r\n                    <Link to=\"/cart\" className=\"cart\"\r\n                    onClick={() => addCart(detailProduct)}>\r\n                        Buy Now\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <h2>Related products</h2>\r\n                <div className=\"products\">\r\n                    {\r\n                        products.map(product => {\r\n                            return product.category === detailProduct.category \r\n                                ? <ProductItem key={product._id} product={product} /> : null\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DetailProduct\r\n","import React, {useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction Login() {\r\n    const [user, setUser] = useState({\r\n        email:'', password: ''\r\n    })\r\n\r\n    const onChangeInput = e =>{\r\n        const {name, value} = e.target;\r\n        setUser({...user, [name]:value})\r\n    }\r\n\r\n    const loginSubmit = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            await axios.post('/user/login', {...user})\r\n\r\n            localStorage.setItem('firstLogin', true)\r\n            \r\n            window.location.href = \"/\";\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <form onSubmit={loginSubmit}>\r\n                <h2>Login</h2>\r\n                <input type=\"email\" name=\"email\" required\r\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\r\n\r\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\r\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\r\n\r\n                <div className=\"row\">\r\n                    <button type=\"submit\">Login</button>\r\n                    <Link to=\"/register\">Register</Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, {useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction Register() {\r\n    const [user, setUser] = useState({\r\n        name:'', email:'', password: ''\r\n    })\r\n\r\n    const onChangeInput = e =>{\r\n        const {name, value} = e.target;\r\n        setUser({...user, [name]:value})\r\n    }\r\n\r\n    const registerSubmit = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            await axios.post('/user/register', {...user})\r\n\r\n            localStorage.setItem('firstLogin', true)\r\n\r\n            \r\n            window.location.href = \"/\";\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <form onSubmit={registerSubmit}>\r\n                <h2>Register</h2>\r\n                <input type=\"text\" name=\"name\" required\r\n                placeholder=\"Name\" value={user.name} onChange={onChangeInput} />\r\n\r\n                <input type=\"email\" name=\"email\" required\r\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\r\n\r\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\r\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\r\n\r\n                <div className=\"row\">\r\n                    <button type=\"submit\">Register</button>\r\n                    <Link to=\"/login\">Login</Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register","import React, {useContext, useEffect} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction OrderHistory() {\r\n    const state = useContext(GlobalState)\r\n    const [history, setHistory] = state.userAPI.history\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n    \r\n\r\n    useEffect(() => {\r\n        if(token){\r\n            const getHistory = async() =>{\r\n                if(isAdmin){\r\n                    const res = await axios.get('/api/payment', {\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    setHistory(res.data)\r\n                }else{\r\n                    const res = await axios.get('/user/history', {\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    setHistory(res.data)\r\n                }\r\n            }\r\n            getHistory()\r\n        }\r\n    },[token, isAdmin, setHistory])\r\n\r\n    return (\r\n        <div className=\"history-page\">\r\n            <h2>History</h2>\r\n\r\n            <h4>You have {history.length} ordered</h4>\r\n\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Payment ID</th>\r\n                        <th>Date of Purchased</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        history.map(items => (\r\n                            <tr key={items._id}>\r\n                                <td>{items.paymentID}</td>\r\n                                <td>{new Date(items.createdAt).toLocaleDateString()}</td>\r\n                                <td><Link to={`/history/${items._id}`}>View</Link></td>\r\n                            </tr>\r\n                        ))\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderHistory\r\n","import React, {useState, useEffect, useContext} from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport {GlobalState} from '../../../GlobalState'\r\n\r\nfunction OrderDetails() {\r\n    const state = useContext(GlobalState)\r\n    const [history] = state.userAPI.history\r\n    const [orderDetails, setOrderDetails] = useState([])\r\n\r\n    const params = useParams()\r\n\r\n    useEffect(() => {\r\n        if(params.id){\r\n            history.forEach(item =>{\r\n                if(item._id === params.id) setOrderDetails(item)\r\n            })\r\n        }\r\n    },[params.id, history])\r\n\r\n\r\n    if(orderDetails.length === 0) return null;\r\n\r\n    return (\r\n        <div className=\"history-page\">\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>User ID</th>\r\n                        <th>Name</th>\r\n                        <th>Email</th>\r\n                        <th>Pickup Location</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>{orderDetails.user_id}</td>\r\n                        <td>{orderDetails.name}</td>\r\n                        <td>{orderDetails.email}</td>\r\n                        <td>{orderDetails.address}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <table style={{margin: \"30px 0px\"}}>\r\n                <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>Products</th>\r\n                        <th>Quantity</th>\r\n                        <th>Price</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        orderDetails.cart.map(item =>(\r\n                        <tr key={item._id}>\r\n                            <td><img src={item.images.url} alt=\"\" /></td>\r\n                            <td>{item.title}</td>\r\n                            <td>{item.quantity}</td>\r\n                            <td>$ {item.price * item.quantity}</td>\r\n                        </tr>\r\n                        ))\r\n                    }\r\n                    \r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderDetails\r\n","import React, {useContext, useEffect, useState} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport check from './check.svg'\r\n\r\nfunction OrderHistory() {\r\n    const state = useContext(GlobalState)\r\n    const [history, setHistory] = state.userAPI.history\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n    useEffect(() => {\r\n        if(token){\r\n            const getHistory = async() =>{\r\n                \r\n                if(isAdmin){\r\n                    const res = await axios.get('/api/payment', {\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    \r\n                    setHistory(res.data)\r\n                    \r\n                    \r\n                }\r\n            }\r\n            \r\n            getHistory()\r\n        }\r\n    },[token, isAdmin, setHistory])\r\n\r\n    \r\n\r\n    const updateStatus = async(id) => {\r\n        try{\r\n            history.forEach(element =>{\r\n                if(element._id === id){\r\n                    \r\n    \r\n                    const res =  axios.put('./api/updateOrder', {_id: id},  {\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    \r\n                    alert(res.msg)\r\n                    \r\n                }\r\n            })\r\n        }catch(err){\r\n            console.log(err.msg)\r\n        }\r\n        \r\n    }\r\n\r\n    \r\n    return (\r\n        <div className=\"history-page\">\r\n            <h2>CURRENT ORDERS</h2>\r\n\r\n            <h4>You have {history.length} orders</h4>\r\n\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Payment ID</th>\r\n                        <th>Date of Purchased</th>\r\n                        <th>View order</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        history.map(items => (\r\n                             items.status===false &&\r\n                            <tr key={items._id}>\r\n                                <td>{items.paymentID}</td>\r\n                                <td>{new Date(items.createdAt).toLocaleDateString()}</td>\r\n                                <td><Link to={`/history/${items._id}`}>View</Link></td>\r\n                                <td onClick={() => {updateStatus(items._id)}}><img src={check} alt=\"check\" width=\"30\" /></td>\r\n                            </tr>\r\n                            \r\n                            \r\n                            \r\n                            \r\n                        ))\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderHistory\r\n","import React, {useContext, useState, useEffect} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport axios from 'axios'\r\nimport Razorpay from \"razorpay\"\r\nimport useRazorpay from \"react-razorpay\"\r\n\r\nfunction Cart() {\r\n    const Razorpay = useRazorpay()\r\n    const state = useContext(GlobalState)\r\n    const [cart, setCart] = state.userAPI.cart\r\n    const [token] = state.token\r\n    const [total, setTotal] = useState(0)\r\n\r\n    useEffect(() =>{\r\n        const getTotal = () =>{\r\n            const total = cart.reduce((prev, item) => {\r\n                return prev + (item.price * item.quantity)\r\n            },0)\r\n\r\n            setTotal(total)\r\n        }\r\n\r\n        getTotal()\r\n\r\n    },[cart])\r\n\r\n    const addToCart = async (cart) =>{\r\n        await axios.patch('/user/addcart', {cart}, {\r\n            headers: {Authorization: token}\r\n        })\r\n    }\r\n\r\n\r\n    const increment = (id) =>{\r\n        cart.forEach(item => {\r\n            if(item._id === id){\r\n                item.quantity += 1\r\n            }\r\n        })\r\n\r\n        setCart([...cart])\r\n        addToCart(cart)\r\n    }\r\n\r\n    const decrement = (id) =>{\r\n        cart.forEach(item => {\r\n            if(item._id === id){\r\n                item.quantity === 1 ? item.quantity = 1 : item.quantity -= 1\r\n            }\r\n        })\r\n\r\n        setCart([...cart])\r\n        addToCart(cart)\r\n    }\r\n\r\n    const removeProduct = id =>{\r\n        if(window.confirm(\"Do you want to delete this product?\")){\r\n            cart.forEach((item, index) => {\r\n                if(item._id === id){\r\n                    cart.splice(index, 1)\r\n                }\r\n            })\r\n\r\n            setCart([...cart])\r\n            addToCart(cart)\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    \r\n\r\n    const initPayment = (data) => {\r\n        \r\n\t\tconst options = {\r\n\t\t\tkey_id: \"rzp_test_RFa5lENXkSlzru\",\r\n\t\t\tamount: data.amount,\r\n\t\t\tcurrency: data.currency,\r\n\t\t\tdescription: \"Test Transaction\",\r\n\t\t\torder_id: data.id,\r\n\t\t\thandler: async (response) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t\tconst { data } = await axios.post('/api/verify', {response});\r\n                    const paymentID = response.razorpay_payment_id\r\n                    await axios.post('/api/payment',{cart, paymentID}, {\r\n                        headers: {Authorization: token}\r\n                    })\r\n                    setCart([])\r\n                    addToCart([])\r\n                    alert('You can view your order in order in History')\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttheme: {\r\n\t\t\t\tcolor: \"#3399cc\",\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst rzp1 = new Razorpay(options);\r\n        console.log(rzp1)\r\n\t\trzp1.open();\r\n\t};\r\n\r\n    const handlePayment = async() => {\r\n        try {\r\n\t\t\t\r\n\t\t\tconst { data } = await axios.post('/api/orders', { amount: total },  {\r\n                headers: {Authorization: token}\r\n            });\r\n\t\t\tconsole.log(data);\r\n            \r\n\t\t\tinitPayment(data.data);\r\n            \r\n            \r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t}\r\n        \r\n    }\r\n\r\n\r\n    if(cart.length === 0) \r\n        return <h2 style={{textAlign: \"center\", fontSize: \"5rem\"}}>Cart Empty</h2> \r\n\r\n    return (\r\n        <div>\r\n        \r\n            {\r\n                cart.map(product => (\r\n                    <div className=\"detail cart\" key={product._id}>\r\n                        <img src={product.images.url} alt=\"\" />\r\n\r\n                        <div className=\"box-detail\">\r\n                            <h2>{product.title}</h2>\r\n\r\n                            <h3>$ {product.price * product.quantity}</h3>\r\n                            <p>{product.description}</p>\r\n                            <p>{product.content}</p>\r\n\r\n                            <div className=\"amount\">\r\n                                <button onClick={() => decrement(product._id)}> - </button>\r\n                                <span>{product.quantity}</span>\r\n                                <button onClick={() => increment(product._id)}> + </button>\r\n                            </div>\r\n                            \r\n                            <div className=\"delete\" \r\n                            onClick={() => removeProduct(product._id)}>\r\n                                X\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            }\r\n\r\n            <div className=\"total\">\r\n                <h3>Total: $ {total}</h3>\r\n                <button onClick={() => handlePayment()} className=\"payment\">Buy Now</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cart\r\n","import React from 'react'\r\n\r\nfunction NotFound() {\r\n    return (\r\n        <div>\r\n            404 | Not Found\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import React, {useState, useContext} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport axios from 'axios'\r\n\r\nfunction Categories() {\r\n    const state = useContext(GlobalState)\r\n    const [categories] = state.categoriesAPI.categories\r\n    const [category, setCategory] = useState('')\r\n    const [token] = state.token\r\n    const [callback, setCallback] = state.categoriesAPI.callback\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [id, setID] = useState('')\r\n\r\n    const createCategory = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(onEdit){\r\n                const res = await axios.put(`/api/category/${id}`, {name: category}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n                alert(res.data.msg)\r\n            }else{\r\n                const res = await axios.post('/api/category', {name: category}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n                alert(res.data.msg)\r\n            }\r\n            setOnEdit(false)\r\n            setCategory('')\r\n            setCallback(!callback)\r\n            \r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const editCategory = async (id, name) =>{\r\n        setID(id)\r\n        setCategory(name)\r\n        setOnEdit(true)\r\n    }\r\n\r\n    const deleteCategory = async id =>{\r\n        try {\r\n            const res = await axios.delete(`/api/category/${id}`, {\r\n                headers: {Authorization: token}\r\n            })\r\n            alert(res.data.msg)\r\n            setCallback(!callback)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"categories\">\r\n            <form onSubmit={createCategory}>\r\n                <label htmlFor=\"category\">Category</label>\r\n                <input type=\"text\" name=\"category\" value={category} required\r\n                onChange={e => setCategory(e.target.value)} />\r\n\r\n                <button type=\"submit\">{onEdit? \"Update\" : \"Create\"}</button>\r\n            </form>\r\n\r\n            <div className=\"col\">\r\n                {\r\n                    categories.map(category => (\r\n                        <div className=\"row\" key={category._id}>\r\n                            <p>{category.name}</p>\r\n                            <div>\r\n                                <button onClick={() => editCategory(category._id, category.name)}>Edit</button>\r\n                                <button onClick={() => deleteCategory(category._id)}>Delete</button>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Categories\r\n","import React, {useState, useContext, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport Loading from '../utils/loading/Loading'\r\nimport {useHistory, useParams} from 'react-router-dom'\r\n\r\nconst initialState = {\r\n    product_id: '',\r\n    title: '',\r\n    price: 0,\r\n    description: 'Enter descryption of the item.',\r\n    content: 'Enter the basic ingridients of your product.',\r\n    category: '',\r\n    _id: ''\r\n}\r\n\r\nfunction CreateProduct() {\r\n    const state = useContext(GlobalState)\r\n    const [product, setProduct] = useState(initialState)\r\n    const [categories] = state.categoriesAPI.categories\r\n    const [images, setImages] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n\r\n    const history = useHistory()\r\n    const param = useParams()\r\n\r\n    const [products] = state.productsAPI.products\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [callback, setCallback] = state.productsAPI.callback\r\n\r\n    useEffect(() => {\r\n        if(param.id){\r\n            setOnEdit(true)\r\n            products.forEach(product => {\r\n                if(product._id === param.id) {\r\n                    setProduct(product)\r\n                    setImages(product.images)\r\n                }\r\n            })\r\n        }else{\r\n            setOnEdit(false)\r\n            setProduct(initialState)\r\n            setImages(false)\r\n        }\r\n    }, [param.id, products])\r\n\r\n    const handleUpload = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin\")\r\n            const file = e.target.files[0]\r\n            \r\n            if(!file) return alert(\"File not exist.\")\r\n\r\n            if(file.size > 1024 * 1024) // 1mb\r\n                return alert(\"Size too large!\")\r\n\r\n            if(file.type !== 'image/jpeg' && file.type !== 'image/png') // 1mb\r\n                return alert(\"File format is incorrect.\")\r\n\r\n            let formData = new FormData()\r\n            formData.append('file', file)\r\n\r\n            setLoading(true)\r\n            const res = await axios.post('/api/upload', formData, {\r\n                headers: {'content-type': 'multipart/form-data', Authorization: token}\r\n            })\r\n            setLoading(false)\r\n            setImages(res.data)\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const handleDestroy = async () => {\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin\")\r\n            setLoading(true)\r\n            await axios.post('/api/destroy', {public_id: images.public_id}, {\r\n                headers: {Authorization: token}\r\n            })\r\n            setLoading(false)\r\n            setImages(false)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const handleChangeInput = e =>{\r\n        const {name, value} = e.target\r\n        setProduct({...product, [name]:value})\r\n    }\r\n\r\n    const handleSubmit = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(!isAdmin) return alert(\"You're not an admin\")\r\n            if(!images) return alert(\"No Image Upload\")\r\n\r\n            if(onEdit){\r\n                await axios.put(`/api/products/${product._id}`, {...product, images}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n            }else{\r\n                await axios.post('/api/products', {...product, images}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n            }\r\n            setCallback(!callback)\r\n            history.push(\"/\")\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const styleUpload = {\r\n        display: images ? \"block\" : \"none\"\r\n    }\r\n    return (\r\n        <div className=\"create_product\">\r\n            <div className=\"upload\">\r\n                <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload}/>\r\n                {\r\n                    loading ? <div id=\"file_img\"><Loading /></div>\r\n\r\n                    :<div id=\"file_img\" style={styleUpload}>\r\n                        <img src={images ? images.url : ''} alt=\"\"/>\r\n                        <span onClick={handleDestroy}>X</span>\r\n                    </div>\r\n                }\r\n                \r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"product_id\">Product ID</label>\r\n                    <input type=\"text\" name=\"product_id\" id=\"product_id\" required\r\n                    value={product.product_id} onChange={handleChangeInput} disabled={onEdit} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"title\">Title</label>\r\n                    <input type=\"text\" name=\"title\" id=\"title\" required\r\n                    value={product.title} onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"price\">Price</label>\r\n                    <input type=\"number\" name=\"price\" id=\"price\" required\r\n                    value={product.price} onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"description\">Description</label>\r\n                    <textarea type=\"text\" name=\"description\" id=\"description\" required\r\n                    value={product.description} rows=\"5\" onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"content\">Content</label>\r\n                    <textarea type=\"text\" name=\"content\" id=\"content\" required\r\n                    value={product.content} rows=\"7\" onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"categories\">Categories: </label>\r\n                    <select name=\"category\" value={product.category} onChange={handleChangeInput} >\r\n                        <option value=\"\">Please select a category</option>\r\n                        {\r\n                            categories.map(category => (\r\n                                <option value={category._id} key={category._id}>\r\n                                    {category.name}\r\n                                </option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n                </div>\r\n\r\n                <button type=\"submit\">{onEdit? \"Update\" : \"Create\"}</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateProduct\r\n","import React, {useContext} from 'react'\r\nimport {Switch, Route} from 'react-router-dom'\r\nimport Products from './products/Products'\r\nimport DetailProduct from './detailProduct/DetailProduct'\r\nimport Login from './auth/Login'\r\nimport Register from './auth/Register'\r\nimport OrderHistory from './history/OrderHistory'\r\nimport OrderDetails from './history/OrderDetails'\r\nimport CurrentOrders from './history/curOrders'\r\nimport Cart from './cart/Cart'\r\nimport NotFound from './utils/not_found/NotFound'\r\nimport Categories from './categories/Categories'\r\nimport CreateProduct from './createProduct/CreateProduct'\r\n\r\nimport {GlobalState} from '../../GlobalState'\r\n\r\n\r\nfunction Pages() {\r\n    const state = useContext(GlobalState)\r\n    const [isLogged] = state.userAPI.isLogged\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/\" exact component={Products} />\r\n            <Route path=\"/detail/:id\" exact component={DetailProduct} />\r\n\r\n            <Route path=\"/login\" exact component={isLogged ? NotFound : Login} />\r\n            <Route path=\"/register\" exact component={isLogged ? NotFound : Register} />\r\n\r\n            <Route path=\"/category\" exact component={isAdmin ? Categories : NotFound} />\r\n            <Route path=\"/create_product\" exact component={isAdmin ? CreateProduct : NotFound} />\r\n            <Route path=\"/curOrders\" exact component={isAdmin ? CurrentOrders : NotFound} />\r\n            <Route path=\"/edit_product/:id\" exact component={isAdmin ? CreateProduct : NotFound} />\r\n\r\n            <Route path=\"/history\" exact component={isLogged ? OrderHistory : NotFound} />\r\n            <Route path=\"/history/:id\" exact component={isLogged ? OrderDetails : NotFound} />\r\n\r\n            <Route path=\"/cart\" exact component={Cart} />\r\n\r\n\r\n            <Route path=\"*\" exact component={NotFound} />\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default Pages\r\n","import React from 'react';\r\nimport {BrowserRouter as Router} from 'react-router-dom'\r\nimport {DataProvider} from './GlobalState'\r\nimport Header from './components/headers/Header'\r\nimport MainPages from './components/mainpages/Pages'\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <DataProvider>\r\n      <Router>\r\n        <div className=\"App\">\r\n          <Header />\r\n          <MainPages />\r\n        </div>\r\n      </Router>\r\n    </DataProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}